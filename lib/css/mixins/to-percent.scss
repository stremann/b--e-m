/**
* The Ultimate PX/% Mixin
* 1. The mixin relies on a function to parse the integer from a value with a unit
* 2. We define a list of values for both units
* 3. If the value has a unit, we split it to get both the unit and the raw value
* 4. We output the result
*/

@function parseInt($n) {
  /* 1 */
  @return $n / ($n * 0 + 1);
}

@mixin to-percent($property, $width, $max-width) {
  $val: (); /* 2 */
  $val-max: (); /* 2 */
  $percentage: (); /* 2 */

  $val: parseInt($width); /* 3 */
  $val-max: parseInt($max-width); /* 3 */
  $percentage: percentage($val / $val-max); /* 3 */

  #{$property}: $percentage; /* 4 */
}